<Window x:Class="OpenStartScreen.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:svg="clr-namespace:SharpVectors.Dom.Svg;assembly=SharpVectors.Core"
        Title="MainWindow" Height="790" Width="1366" WindowStyle="None" ShowInTaskbar="False" Topmost="True">
    <Window.Resources>
        <Style x:Key="ImageButtonStyle" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Background" Value="Transparent"/>
            <!-- Change this color -->
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="1"/>
            <!-- Other setters for image, text, etc. -->
        </Style>
    </Window.Resources>
    <ScrollViewer VerticalScrollBarVisibility="Hidden" Name="scrollViewer">
        <StackPanel Name="stackPanel">

            <Grid Height="{Binding ViewportHeight, ElementName=scrollViewer}" Background="#180053">
                <TextBlock Text="Start" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="60" Margin="120,42,0,0" FontWeight="Light" Foreground="White"/>

                <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" Margin="0,168,0,0">
                    <WrapPanel x:Name="GridsPanel" Orientation="Horizontal" AllowDrop="True" Drop="GridsPanel_Drop" DragOver="GridsPanel_DragOver" Margin="120,10,10,10"/>
                </ScrollViewer>

                <Button x:Name="WindowsKey" VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="51" Height="41" Style="{StaticResource ImageButtonStyle}" Background="Black" BorderBrush="Black">
                    <Image Source="/win8.1_default0.png" Width="42" Height="44" Margin="0,-1,0,0"/>
                </Button>


                <Button VerticalAlignment="Bottom" HorizontalAlignment="Left" Margin="133,0,0,44" Click="GoToApps_Click" Style="{StaticResource ImageButtonStyle}">
                    <Image Source="pack://application:,,,/Down.png" Width="30" Height="29" />
                </Button>
                <Button VerticalAlignment="Top" HorizontalAlignment="Right" Margin="0,46,145,0" Style="{StaticResource ImageButtonStyle}" 
                        Command="{Binding OpenContextMenuCommand}" CommandParameter="{Binding RelativeSource={RelativeSource Mode=Self}}">
                    <Button.ContextMenu>
                        <ContextMenu x:Name="UserContextMenu">
                            <MenuItem Header="Change account picture" Command="{Binding ChangeAccountPictureCommand}"/>
                            <MenuItem Header="Lock" Command="{Binding LockCommand}"/>
                            <MenuItem Header="Sign out" Command="{Binding SignOutCommand}"/>
                        </ContextMenu>
                    </Button.ContextMenu>
                    <StackPanel Orientation="Horizontal" Margin="30" >
                        <TextBlock Text="{Binding Username}" VerticalAlignment="Center" Foreground="White" FontSize="26" FontWeight="Light" Margin="20,0,0,0" />
                        <Image Source="{Binding UserProfileImage}" Width="40" Height="40" Margin="10" />
                    </StackPanel>

                </Button>
                <Button Margin="1223,90,110,666" Style="{StaticResource ImageButtonStyle}" VerticalAlignment="Top" HorizontalAlignment="Right"
                        Command="{Binding OpenContextMenuCommand}" CommandParameter="{Binding RelativeSource={RelativeSource Mode=Self}}">
                    <Button.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Shutdown" Command="{Binding ShutdownCommand}"/>
                            <MenuItem Header="Restart" Command="{Binding RestartCommand}"/>
                        </ContextMenu>
                    </Button.ContextMenu>
                    <Image HorizontalAlignment="Left" Height="34" VerticalAlignment="Center" Width="34" Margin="4,0,0,0">
                        <Image.Source>
                            <DrawingImage>
                                <DrawingImage.Drawing>
                                    <DrawingGroup ClipGeometry="M0,0 V20.249999 H17.25 V0 H0 Z">
                                        <DrawingGroup Opacity="1">
                                            <DrawingGroup.ClipGeometry>
                                                <PathGeometry FillRule="Nonzero" Figures="M0,3L15.8125,3 15.8125,18.320312 0,18.320312z M0,3" />
                                            </DrawingGroup.ClipGeometry>
                                            <GeometryDrawing Brush="#FFFFFFFF" Geometry="F1 M17.25,20.249999z M0,0z M8.070312,18.03125C3.628906,18.03125 0.0195312,14.417969 0.0195312,9.980469 0.0195312,7.761719 0.949219,5.617188 2.566406,4.101562 2.980469,3.714844 3.625,3.738281 4.007812,4.148438 4.390625,4.558594 4.371094,5.203125 3.960938,5.589844 2.730469,6.738281 2.054688,8.296875 2.054688,9.980469 2.054688,13.296875 4.753906,15.992188 8.070312,15.992188 11.386719,15.992188 14.082031,13.296875 14.082031,9.980469 14.082031,8.335938 13.433594,6.800781 12.25,5.65625 11.847656,5.265625 11.835938,4.621094 12.226562,4.214844 12.617188,3.8125 13.261719,3.800781 13.667969,4.191406 15.25,5.722656 16.121094,7.777344 16.121094,9.980469 16.121094,14.417969 12.507812,18.03125 8.070312,18.03125z M8.070312,18.03125" />
                                        </DrawingGroup>
                                        <DrawingGroup Opacity="1">
                                            <GeometryDrawing Brush="#FFFFFFFF" Geometry="F1 M17.25,20.249999z M0,0z M8.070312,9.78125C7.507812,9.78125,7.050781,9.324219,7.050781,8.761719L7.050781,2.085938C7.050781,1.523438 7.507812,1.070312 8.070312,1.070312 8.632812,1.070312 9.089844,1.523438 9.089844,2.085938L9.089844,8.761719C9.089844,9.324219,8.632812,9.78125,8.070312,9.78125z M8.070312,9.78125" />
                                        </DrawingGroup>
                                    </DrawingGroup>
                                </DrawingImage.Drawing>
                            </DrawingImage>
                        </Image.Source>
                    </Image>
                </Button>

            </Grid>

            <Grid Height="{Binding ViewportHeight, ElementName=scrollViewer}" Background="#180053">
                <TextBlock Text="Apps" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="60" Margin="120,42,0,0" FontWeight="Light"  Foreground="White"/>
                <ComboBox x:Name="FilterComboBox" FontSize="24" SelectedIndex="0" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="280,67,0,0" Width="200" Height="46">
                    <ComboBoxItem Content="by name" />
                    <ComboBoxItem Content="by date installed" />
                    <ComboBoxItem Content="by most used" />
                    <ComboBoxItem Content="by category" />
                </ComboBox>
                <ScrollViewer x:Name="CatagoriesScroll" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" Margin="0,160,0,0" Grid.ColumnSpan="5">
                    <WrapPanel x:Name="CategoriesPanel" Orientation="Horizontal" Margin="120,10,10,10"/>
                </ScrollViewer>
                <Button VerticalAlignment="Bottom" HorizontalAlignment="Left" Margin="133,0,0,44" Click="GoToStart_Click" Style="{StaticResource ImageButtonStyle}">
                    <Image Source="pack://application:,,,/Up.png" Width="30" Height="29" />
                </Button>
            </Grid>
        </StackPanel>
    </ScrollViewer>
</Window>
